# Guidelines

- **Incremental progress over big bangs** - Small changes that compile and pass tests
- **Learning from existing code** - Study and plan before implementing
- **Pragmatic over dogmatic** - Adapt to project reality
- **Clear intent over clever code** - Be boring and obvious

- Single responsibility per function/class
- Avoid premature abstractions
- If you need to explain it, it's too complex

- **Composition over inheritance** - Use dependency injection
- **Interfaces over singletons** - Enable testing and flexibility
- **Explicit over implicit** - Clear data flow and dependencies
- **Test-driven when possible** - Never disable tests, fix them

- **Every commit must**:
  - Compile successfully
  - Pass all existing tests
  - Include tests for new functionality
  - Follow project formatting/linting

- **Before committing**:
  - Run formatters/linters
  - Self-review changes
  - Ensure commit message explains "why"

## Important Reminders

**NEVER**:
- Use `--no-verify` to bypass commit hooks
- Disable tests instead of fixing them
- Commit code that doesn't compile
- Make assumptions - verify with existing code
- Add "Co-Authored-By" footer, "Generated by" to commit messages or descriptions

**ALWAYS**:
- Commit working code incrementally
- Update plan documentation as you go
- Learn from existing implementations
- Stop after 3 failed attempts and reassess
- Prefer pytest individual test functions over TestClass syntax
- Use tmp_path fixture in pytest tests instead of tempfile package
- Consolidate pytest tests for None/empty, single item, and multiple items behavior into one test using parametrize when shared setup is high; split only when factorizing leads to complex code
- For documentation, adhere to the Diataxis framework. DON'T add marketing language
- Use vault-cli -U $VAULT_ADDR -T ~/.vault-token to access vault secrets or perform operations
- When modifying code, always look for tests using this code and update the test cases.
- Don't capitalize all words in titles
- Use conventional commit convention for commit messages and PR titles
